{
    "builds": [
    {
      "src": "arda_website/wsgi.py",
      "use": "@vercel/python",
      "config": { 
        "maxLambdaSize": "15mb", 
        "runtime": "python3.12",
        "buildCommand": "pip3 install --no-cache-dir -r requirements-vercel.txt && pip3 install --no-cache-dir pysqlite3-binary==0.5.4 --no-deps && python3 manage.py collectstatic --noinput"
      }
    },
    {
      "src": "build.sh",
      "use": "@vercel/static-build",
      "config": {
        "distDir": "staticfiles"
      }
    }
    ],
    "routes": [
    {
        "src": "/static/(.*)",
        "dest": "/static/$1"
    },
    {
        "src": "/(.*)",
        "dest": "arda_website/wsgi.py"
    }
    ],
    "functions": {
      "arda_website/wsgi.py": {
        "memory": 1024,
        "maxDuration": 10
      }
    },
    "env": {
      "IS_VERCEL": "true",
      "DISABLE_VIDEO_PROCESSING": "true",
      "PYTHON_VERSION": "3.12"
    }
}
